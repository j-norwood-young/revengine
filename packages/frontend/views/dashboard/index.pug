extends ../layout

block content
    .container
        h1 #{sitename} Dashboard
        //- .row
        //-     .col-sm-9
        //-         .card.mb-4
        //-             .card-body
        //-                 canvas#beamArticleProgress
        .row
            .col-sm-4
                .card.mb-4
                    .card-body
                        .big-number.mb-4
                            .number= formatNumber(reader_count)
                            .content Total Readers
        canvas#beamArticleProgress(width="300" height="100")
block scripts
    script.
        document.addEventListener("DOMContentLoaded", async (event) => {
            const beam = new Beam();
            let article_data = await beam.get("/dashboard/article_hits?interval=hour")
            const charts = new Charts();
            charts.drawHistogram({
                element: "#beamArticleProgress", 
                data: article_data, 
                label: "Hits"
            });
        })
                                